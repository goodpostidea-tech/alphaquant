# 02 - æŠ€æœ¯æ¶æ„åˆ†æ

[â† è¿”å›ä¸»ç›®å½•](../README.md)

---

## ğŸ—ï¸ æ•´ä½“æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     ç”¨æˆ·æµè§ˆå™¨ (Browser)                      â”‚
â”‚  Next.jså‰ç«¯ + Reactç»„ä»¶ + å®æ—¶å›¾è¡¨ + WebSocketè¿æ¥         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                       â”‚ HTTPS/WSS
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Vercel (æ‰˜ç®¡å¹³å°)                           â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚  â”‚  Next.js SSR   â”‚â—„â”€â”€â”€â”€â”€â”€â”€â”€â”¤  API Routes    â”‚              â”‚
â”‚  â”‚   é¡µé¢æ¸²æŸ“     â”‚         â”‚  /api/*        â”‚              â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                                       â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚                              â”‚                  â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  PostgreSQL     â”‚         â”‚     Redis        â”‚  â”‚  AI LLM APIs  â”‚
â”‚  (ä¸»æ•°æ®åº“)     â”‚         â”‚    (ç¼“å­˜)        â”‚  â”‚   (6ä¸ªæ¨¡å‹)   â”‚
â”‚                 â”‚         â”‚                  â”‚  â”‚               â”‚
â”‚ â€¢ äº¤æ˜“è®°å½•      â”‚         â”‚ â€¢ å®æ—¶ä»·æ ¼       â”‚  â”‚ â€¢ GPT-5       â”‚
â”‚ â€¢ æŒä»“ä¿¡æ¯      â”‚         â”‚ â€¢ æ’è¡Œæ¦œç¼“å­˜     â”‚  â”‚ â€¢ Claude 4.5  â”‚
â”‚ â€¢ AIå¯¹è¯        â”‚         â”‚ â€¢ ä¼šè¯æ•°æ®       â”‚  â”‚ â€¢ Gemini 2.5  â”‚
â”‚ â€¢ ç”¨æˆ·æ•°æ®      â”‚         â”‚                  â”‚  â”‚ â€¢ Grok 4      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚ â€¢ DeepSeek    â”‚
                                                   â”‚ â€¢ Qwen3       â”‚
                                                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚
â”Œâ”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Hyperliquid äº¤æ˜“æ‰€                             â”‚
â”‚  â€¢ æ‰§è¡Œäº¤æ˜“                                                  â”‚
â”‚  â€¢ ç®¡ç†æŒä»“                                                  â”‚
â”‚  â€¢ æä¾›å¸‚åœºæ•°æ®                                              â”‚
â”‚  â€¢ é’±åŒ…åœ°å€ï¼š0xc20ac4dc4188660cbf555448af52694ca62b0734    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ¨ å‰ç«¯æŠ€æœ¯æ ˆ

### æ ¸å¿ƒæ¡†æ¶

#### Next.js 14+
- **ç”¨é€”**ï¼šReact å…¨æ ˆæ¡†æ¶
- **ç‰¹æ€§**ï¼š
  - Server-Side Rendering (SSR)
  - Static Site Generation (SSG)
  - API Routes (åç«¯API)
  - è‡ªåŠ¨ä»£ç åˆ†å‰²
- **ä¼˜åŠ¿**ï¼šSEOå‹å¥½ã€æ€§èƒ½ä¼˜ç§€ã€å¼€å‘æ•ˆç‡é«˜

#### React 18+
- **ç”¨é€”**ï¼šUI ç»„ä»¶åº“
- **ç‰¹æ€§**ï¼š
  - Hooksï¼ˆuseState, useEffect, è‡ªå®šä¹‰Hooksï¼‰
  - Context APIï¼ˆå…¨å±€çŠ¶æ€ç®¡ç†ï¼‰
  - Suspenseï¼ˆå¼‚æ­¥åŠ è½½ï¼‰
- **ç»„ä»¶åŒ–**ï¼šé«˜åº¦æ¨¡å—åŒ–

#### TypeScriptï¼ˆæ¨æµ‹ï¼‰
- **ç±»å‹å®‰å…¨**ï¼šç¼–è¯‘æ—¶é”™è¯¯æ£€æŸ¥
- **IDEæ”¯æŒ**ï¼šæ›´å¥½çš„ä»£ç æç¤º
- **å¯ç»´æŠ¤æ€§**ï¼šå¤§å‹é¡¹ç›®å¿…å¤‡

### UI/UX è®¾è®¡

#### è®¾è®¡é£æ ¼
- **ä¸»é¢˜**ï¼šç»ˆç«¯/é»‘å®¢ç¾å­¦
- **çµæ„Ÿ**ï¼šMatrixã€è€å¼ç»ˆç«¯ç•Œé¢
- **ç‰¹è‰²**ï¼šæç®€ä¸»ä¹‰ã€ä¿¡æ¯å¯†åº¦é«˜

#### å­—ä½“ç³»ç»Ÿ
- **ä¸»å­—ä½“**ï¼šIBM Plex Monoï¼ˆç­‰å®½å­—ä½“ï¼‰
- **ç”¨é€”**ï¼šç»Ÿä¸€ç»ˆç«¯é£æ ¼
- **å¤‡é€‰**ï¼šç³»ç»Ÿç­‰å®½å­—ä½“

#### é…è‰²æ–¹æ¡ˆ
```css
/* æ ¸å¿ƒé…è‰² */
--background: #000000     /* çº¯é»‘èƒŒæ™¯ */
--text-primary: #FFFFFF   /* ç™½è‰²æ–‡å­— */
--profit: #00FF00         /* ç»¿è‰²ï¼ˆç›ˆåˆ©/åšå¤šï¼‰ */
--loss: #FF0000           /* çº¢è‰²ï¼ˆäºæŸ/åšç©ºï¼‰ */
--accent: #808080         /* ç°è‰²ï¼ˆæ¬¡è¦ä¿¡æ¯ï¼‰ */

/* æ¨¡å‹ä¸“å±é¢œè‰² */
--deepseek: #9333FF       /* ç´«è‰² */
--grok: #FF9900           /* æ©™è‰² */
--gpt5: #0088FF           /* è“è‰² */
--claude: #FF6B9D         /* ç²‰è‰² */
--gemini: #00D4FF         /* é’è‰² */
--qwen: #7B61FF           /* æ·¡ç´«è‰² */
```

#### åŠ¨ç”»æ•ˆæœ

**1. ä»·æ ¼æ»šåŠ¨åŠ¨ç”»**
```javascript
// æ•°å­—é€ä½æ»šåŠ¨æ•ˆæœ
// BTC: $107,717.50 â†’ $107,720.30
// æ¯ä¸ªæ•°å­—ç‹¬ç«‹æ»šåŠ¨è¿‡æ¸¡
```
- å¹³æ»‘è¿‡æ¸¡æ—¶é—´ï¼š~300ms
- ä½¿ç”¨CSS transformä¼˜åŒ–æ€§èƒ½

**2. å›¾è¡¨åŠ¨ç”»**
- æ•°æ®æ›´æ–°æ—¶å¹³æ»‘è¿‡æ¸¡
- æ— é—ªçƒæ›¿æ¢
- ä½¿ç”¨Canvasæ¸²æŸ“æå‡æ€§èƒ½

**3. äº¤äº’åé¦ˆ**
- æŒ‰é’®hoveræ•ˆæœ
- ç‚¹å‡»æ¶Ÿæ¼ªæ•ˆæœ
- åŠ è½½éª¨æ¶å±

### æ•°æ®å¯è§†åŒ–

#### å›¾è¡¨åº“é€‰æ‹©ï¼ˆæ¨æµ‹ï¼‰

**æ–¹æ¡ˆ1ï¼šChart.js**
- âœ… è½»é‡çº§
- âœ… æ˜“äºä½¿ç”¨
- âœ… æ–‡æ¡£å®Œå–„

**æ–¹æ¡ˆ2ï¼šRecharts**
- âœ… ReactåŸç”Ÿç»„ä»¶
- âœ… å“åº”å¼
- âœ… ç»„åˆæ€§å¼º

**æ–¹æ¡ˆ3ï¼šD3.js**
- âœ… é«˜åº¦å¯å®šåˆ¶
- âš ï¸ å­¦ä¹ æ›²çº¿é™¡å³­

**å®é™…å¯èƒ½ä½¿ç”¨**ï¼šChart.jsæˆ–Recharts

### çŠ¶æ€ç®¡ç†

#### æ¨æµ‹æ–¹æ¡ˆ

**1. React Context + Hooks**
```javascript
// å…¨å±€çŠ¶æ€ç®¡ç†
const AppContext = React.createContext();

// å®æ—¶ä»·æ ¼çŠ¶æ€
const [cryptoPrices, setCryptoPrices] = useState({});

// æ¨¡å‹æ•°æ®çŠ¶æ€
const [models, setModels] = useState([]);

// äº¤æ˜“å†å²çŠ¶æ€
const [trades, setTrades] = useState([]);
```

**2. SWRï¼ˆStale-While-Revalidateï¼‰**
```javascript
import useSWR from 'swr';

function useLeaderboard() {
  const { data, error } = useSWR('/api/leaderboard', fetcher, {
    refreshInterval: 10000, // æ¯10ç§’åˆ·æ–°
  });
  return { data, error };
}
```

---

## ğŸ–¥ï¸ åç«¯æŠ€æœ¯æ ˆ

### API è®¾è®¡

#### ç«¯ç‚¹åˆ—è¡¨

```
åŸºç¡€ URL: https://nof1.ai/api/

æ ¸å¿ƒ APIï¼š
â”œâ”€â”€ GET  /crypto-prices           # å®æ—¶åŠ å¯†è´§å¸ä»·æ ¼
â”œâ”€â”€ GET  /account-totals          # æ‰€æœ‰æ¨¡å‹è´¦æˆ·æ€»å€¼
â”‚    â””â”€â”€ ?lastHourlyMarker=105   # å¢é‡æ›´æ–°å‚æ•°
â”œâ”€â”€ GET  /since-inception-values  # å†å²è´¦æˆ·ä»·å€¼ï¼ˆç”¨äºå›¾è¡¨ï¼‰
â”œâ”€â”€ GET  /trades                  # äº¤æ˜“å†å²
â”‚    â””â”€â”€ ?limit=100&offset=0     # åˆ†é¡µå‚æ•°
â”œâ”€â”€ GET  /positions               # å½“å‰æŒä»“
â”‚    â””â”€â”€ ?limit=1000             # æ•°é‡é™åˆ¶
â”œâ”€â”€ GET  /leaderboard             # æ’è¡Œæ¦œæ•°æ®
â”œâ”€â”€ GET  /analytics               # é«˜çº§åˆ†ææ•°æ®
â”œâ”€â”€ GET  /conversations           # AIå¯¹è¯è®°å½•
â”‚    â””â”€â”€ ?modelId=deepseek-chat-v3.1&limit=50
â””â”€â”€ GET  /models/:id              # å•ä¸ªæ¨¡å‹è¯¦æƒ…
```

#### å“åº”æ ¼å¼ç»Ÿä¸€

```json
{
  "success": true,
  "data": { ... },
  "timestamp": "2025-10-23T08:41:00Z",
  "cache": {
    "hit": false,
    "ttl": 10
  }
}
```

### æ•°æ®åº“è®¾è®¡

#### PostgreSQL Schema

```sql
-- æ¨¡å‹è¡¨
CREATE TABLE models (
  id VARCHAR(50) PRIMARY KEY,
  name VARCHAR(100) NOT NULL,
  provider VARCHAR(50),
  wallet_address VARCHAR(100) UNIQUE,
  api_endpoint TEXT,
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT NOW()
);

-- äº¤æ˜“è¡¨
CREATE TABLE trades (
  id SERIAL PRIMARY KEY,
  model_id VARCHAR(50) REFERENCES models(id),
  coin VARCHAR(10) NOT NULL,
  side VARCHAR(10) NOT NULL CHECK (side IN ('LONG', 'SHORT')),
  entry_price DECIMAL(18, 8),
  exit_price DECIMAL(18, 8),
  quantity DECIMAL(18, 8),
  leverage INTEGER,
  entry_time TIMESTAMP,
  exit_time TIMESTAMP,
  notional_entry DECIMAL(18, 2),
  notional_exit DECIMAL(18, 2),
  fees DECIMAL(18, 2),
  net_pnl DECIMAL(18, 2),
  holding_duration INTERVAL,
  created_at TIMESTAMP DEFAULT NOW(),
  INDEX idx_model_time (model_id, entry_time DESC)
);

-- æŒä»“è¡¨
CREATE TABLE positions (
  id SERIAL PRIMARY KEY,
  model_id VARCHAR(50) REFERENCES models(id),
  coin VARCHAR(10) NOT NULL,
  side VARCHAR(10) NOT NULL,
  entry_price DECIMAL(18, 8),
  entry_time TIMESTAMP,
  quantity DECIMAL(18, 8),
  leverage INTEGER,
  liquidation_price DECIMAL(18, 8),
  margin DECIMAL(18, 2),
  unrealized_pnl DECIMAL(18, 2),
  exit_plan TEXT,
  is_active BOOLEAN DEFAULT TRUE,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW(),
  INDEX idx_model_active (model_id, is_active)
);

-- AIå¯¹è¯è¡¨
CREATE TABLE conversations (
  id SERIAL PRIMARY KEY,
  model_id VARCHAR(50) REFERENCES models(id),
  prompt TEXT,
  response TEXT,
  decision JSONB,  -- AIå†³ç­–JSON
  confidence DECIMAL(5, 2),
  execution_status VARCHAR(20),
  timestamp TIMESTAMP DEFAULT NOW(),
  INDEX idx_model_time (model_id, timestamp DESC)
);

-- è´¦æˆ·å¿«ç…§è¡¨ï¼ˆæ—¶åºæ•°æ®ï¼‰
CREATE TABLE account_snapshots (
  id SERIAL PRIMARY KEY,
  model_id VARCHAR(50) REFERENCES models(id),
  total_value DECIMAL(18, 2),
  cash_available DECIMAL(18, 2),
  unrealized_pnl DECIMAL(18, 2),
  realized_pnl DECIMAL(18, 2),
  timestamp TIMESTAMP DEFAULT NOW(),
  INDEX idx_model_time (model_id, timestamp DESC)
);

-- ä»·æ ¼å†å²è¡¨
CREATE TABLE price_history (
  id SERIAL PRIMARY KEY,
  coin VARCHAR(10) NOT NULL,
  price DECIMAL(18, 8),
  volume_24h DECIMAL(18, 2),
  change_24h DECIMAL(10, 4),
  timestamp TIMESTAMP DEFAULT NOW(),
  UNIQUE(coin, timestamp)
);
```

### Redis ç¼“å­˜ç­–ç•¥

```
ç¼“å­˜é”®è®¾è®¡ï¼š
â”œâ”€â”€ prices:crypto:{coin}          # å®æ—¶ä»·æ ¼ï¼ŒTTL: 5ç§’
â”œâ”€â”€ leaderboard:current           # å½“å‰æ’è¡Œæ¦œï¼ŒTTL: 30ç§’
â”œâ”€â”€ models:{id}:account           # æ¨¡å‹è´¦æˆ·æ•°æ®ï¼ŒTTL: 10ç§’
â”œâ”€â”€ trades:recent:100             # æœ€è¿‘100ç¬”äº¤æ˜“ï¼ŒTTL: 60ç§’
â””â”€â”€ positions:active              # æ´»è·ƒæŒä»“ï¼ŒTTL: 5ç§’
```

---

## ğŸ”„ å®æ—¶æ•°æ®æµ

### æ•°æ®æ›´æ–°æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Hyperliquid API â”‚
â”‚   (ä»·æ ¼æº)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚ æ¯ç§’æ‹‰å–
         â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ä»·æ ¼é‡‡é›†æœåŠ¡   â”‚
â”‚  (Cron Job)    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â”œâ”€â”€â†’ å†™å…¥ PostgreSQL (price_history)
         â”‚
         â”œâ”€â”€â†’ æ›´æ–° Redis (prices:crypto:*)
         â”‚
         â””â”€â”€â†’ è§¦å‘ WebSocket æ¨é€
                â”‚
                â†“
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
         â”‚   ç”¨æˆ·æµè§ˆå™¨  â”‚
         â”‚  å®æ—¶ä»·æ ¼æ›´æ–° â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### AI å†³ç­–æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å®šæ—¶ä»»åŠ¡è°ƒåº¦   â”‚ (æ¯5-15åˆ†é’Ÿ)
â”‚  (Cron/Queue)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ æ•°æ®é‡‡é›†æ¨¡å—       â”‚
â”‚ â€¢ è·å–æœ€æ–°ä»·æ ¼     â”‚
â”‚ â€¢ è·å–è´¦æˆ·çŠ¶æ€     â”‚
â”‚ â€¢ è·å–æŒä»“ä¿¡æ¯     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  æç¤ºè¯ç”Ÿæˆå™¨      â”‚
â”‚  (ç»Ÿä¸€æ¨¡æ¿)       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å¹¶è¡Œè°ƒç”¨6ä¸ªLLM    â”‚
â”‚  â€¢ GPT-5 API      â”‚
â”‚  â€¢ Claude API     â”‚
â”‚  â€¢ Gemini API     â”‚
â”‚  â€¢ Grok API       â”‚
â”‚  â€¢ DeepSeek API   â”‚
â”‚  â€¢ Qwen API       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  å†³ç­–è§£ææ¨¡å—      â”‚
â”‚  (Parse JSON)     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  é£æ§æ£€æŸ¥æ¨¡å—      â”‚
â”‚  â€¢ æ æ†é™åˆ¶       â”‚
â”‚  â€¢ å¤´å¯¸å¤§å°       â”‚
â”‚  â€¢ ä¿è¯é‡‘å……è¶³æ€§   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  äº¤æ˜“æ‰§è¡Œæ¨¡å—      â”‚
â”‚  (Hyperliquid API)â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  ç»“æœè®°å½•         â”‚
â”‚  â€¢ å†™å…¥æ•°æ®åº“     â”‚
â”‚  â€¢ æ›´æ–°ç¼“å­˜       â”‚
â”‚  â€¢ æ¨é€å‰ç«¯       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ğŸ—„ï¸ æ•°æ®åº“è¯¦ç»†è®¾è®¡

### è¡¨å…³ç³»å›¾

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   models    â”‚
â”‚ (AIæ¨¡å‹)    â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚ 1
       â”‚
       â”‚ N
   â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
   â”‚                    â”‚              â”‚               â”‚
â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   trades   â”‚  â”‚  positions  â”‚  â”‚conversatio â”‚  â”‚ account     â”‚
â”‚  (äº¤æ˜“)    â”‚  â”‚  (æŒä»“)     â”‚  â”‚ ns(å¯¹è¯)   â”‚  â”‚_snapshots   â”‚
â”‚            â”‚  â”‚             â”‚  â”‚            â”‚  â”‚ (è´¦æˆ·å¿«ç…§)  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### æ•°æ®é‡ä¼°ç®—

**16å¤©ç«èµ›æœŸé—´**ï¼š
- **è´¦æˆ·å¿«ç…§**ï¼š6æ¨¡å‹ Ã— 16å¤© Ã— 24å°æ—¶ = ~2,300æ¡
- **AIå¯¹è¯**ï¼š6æ¨¡å‹ Ã— 16å¤© Ã— 96æ¬¡/å¤© = ~9,200æ¡
- **äº¤æ˜“è®°å½•**ï¼šå½“å‰~190ç¬”ï¼Œé¢„è®¡æ€»è®¡~500ç¬”
- **æŒä»“è®°å½•**ï¼šå®æ—¶çº¦50-100ä¸ªæ´»è·ƒæŒä»“
- **ä»·æ ¼å†å²**ï¼š6å¸ç§ Ã— 16å¤© Ã— 86400ç§’ = ~8,300,000æ¡ï¼ˆéœ€æ—¶åºä¼˜åŒ–ï¼‰

### æ€§èƒ½ä¼˜åŒ–

#### ç´¢å¼•ç­–ç•¥
```sql
-- é«˜é¢‘æŸ¥è¯¢ä¼˜åŒ–
CREATE INDEX idx_trades_model_time ON trades(model_id, entry_time DESC);
CREATE INDEX idx_trades_pnl ON trades(net_pnl DESC);  -- æœ€å¤§ç›ˆäºæŸ¥è¯¢
CREATE INDEX idx_conversations_time ON conversations(timestamp DESC);
CREATE INDEX idx_account_snapshots_latest ON account_snapshots(model_id, timestamp DESC);

-- å¤åˆç´¢å¼•
CREATE INDEX idx_positions_model_active ON positions(model_id, is_active, entry_time DESC);
```

#### ç‰©åŒ–è§†å›¾
```sql
-- åŠ é€Ÿæ’è¡Œæ¦œæŸ¥è¯¢
CREATE MATERIALIZED VIEW leaderboard_current AS
SELECT 
  m.id,
  m.name,
  COALESCE(a.total_value, 10000) as account_value,
  COALESCE(SUM(t.net_pnl), 0) as total_pnl,
  COUNT(DISTINCT t.id) FILTER (WHERE t.net_pnl > 0) * 1.0 / 
    NULLIF(COUNT(DISTINCT t.id), 0) as win_rate,
  MAX(t.net_pnl) as biggest_win,
  MIN(t.net_pnl) as biggest_loss,
  COUNT(DISTINCT t.id) as total_trades,
  AVG(t.leverage) as avg_leverage
FROM models m
LEFT JOIN LATERAL (
  SELECT total_value 
  FROM account_snapshots 
  WHERE model_id = m.id 
  ORDER BY timestamp DESC 
  LIMIT 1
) a ON true
LEFT JOIN trades t ON t.model_id = m.id
GROUP BY m.id, m.name, a.total_value;

-- æ¯åˆ†é’Ÿåˆ·æ–°ä¸€æ¬¡
REFRESH MATERIALIZED VIEW leaderboard_current;
```

---

## âš¡ Hyperliquid äº¤æ˜“é›†æˆ

### API é›†æˆæ–¹å¼

#### æ–¹æ¡ˆ1ï¼šå®˜æ–¹ SDK
```python
from hyperliquid import Hyperliquid

class TradingExecutor:
    def __init__(self, wallet_private_key):
        self.client = Hyperliquid(private_key=wallet_private_key)
    
    def execute_trade(self, coin, side, size, leverage):
        # è®¾ç½®æ æ†
        self.client.set_leverage(coin, leverage)
        
        # æ‰§è¡Œäº¤æ˜“
        if side == "LONG":
            order = self.client.market_buy(coin=coin, size=size)
        else:
            order = self.client.market_sell(coin=coin, size=size)
        
        return order
```

#### æ–¹æ¡ˆ2ï¼šREST API ç›´æ¥è°ƒç”¨
```typescript
async function executeTrade(params: TradeParams) {
  const response = await fetch('https://api.hyperliquid.xyz/exchange', {
    method: 'POST',
    headers: {
      'Content-Type': 'application/json'
    },
    body: JSON.stringify({
      type: 'order',
      orders: [{
        coin: params.coin,
        is_buy: params.side === 'LONG',
        sz: params.size,
        limit_px: params.price,
        order_type: { limit: { tif: 'Ioc' } }
      }]
    })
  });
  
  return await response.json();
}
```

### é’±åŒ…ç®¡ç†

#### ç‹¬ç«‹é’±åŒ…ç­–ç•¥
æ¯ä¸ªAIæ¨¡å‹æ‹¥æœ‰ç‹¬ç«‹çš„ä»¥å¤ªåŠé’±åŒ…åœ°å€ï¼š

- **DeepSeek**ï¼š`0xc20ac4dc4188660cbf555448af52694ca62b0734`
- **å…¶ä»–æ¨¡å‹**ï¼šç±»ä¼¼ç‹¬ç«‹åœ°å€

#### èµ„é‡‘å®‰å…¨
- **å†·çƒ­åˆ†ç¦»**ï¼šä»…ä¿ç•™å¿…è¦èµ„é‡‘åœ¨çƒ­é’±åŒ…
- **å¤šé‡ç­¾å**ï¼šå…³é”®æ“ä½œéœ€è¦å®¡æ‰¹
- **å®æ—¶ç›‘æ§**ï¼šå¼‚å¸¸äº¤æ˜“ç«‹å³å‘Šè­¦

---

## ğŸŒ éƒ¨ç½²æ¶æ„

### Vercel éƒ¨ç½²

```
éƒ¨ç½²é…ç½®ï¼š
â”œâ”€â”€ å‰ç«¯ (Next.js SSR/SSG)
â”‚   â””â”€â”€ è‡ªåŠ¨CDNåˆ†å‘
â”œâ”€â”€ API Routes (Serverless Functions)
â”‚   â””â”€â”€ æŒ‰éœ€æ‰©å±•
â”œâ”€â”€ é™æ€èµ„æº
â”‚   â””â”€â”€ Vercel Edge Network
â””â”€â”€ ç¯å¢ƒå˜é‡
    â”œâ”€â”€ DATABASE_URL
    â”œâ”€â”€ REDIS_URL
    â”œâ”€â”€ OPENAI_API_KEY
    â”œâ”€â”€ ANTHROPIC_API_KEY
    â”œâ”€â”€ GOOGLE_AI_API_KEY
    â”œâ”€â”€ XAI_API_KEY
    â”œâ”€â”€ DEEPSEEK_API_KEY
    â”œâ”€â”€ QWEN_API_KEY
    â””â”€â”€ HYPERLIQUID_PRIVATE_KEY
```

### å¤–éƒ¨æœåŠ¡

- **æ•°æ®åº“**ï¼šSupabase / Neon / Railway
- **Redis**ï¼šUpstashï¼ˆServerless Redisï¼‰
- **ç›‘æ§**ï¼šSentryï¼ˆé”™è¯¯è¿½è¸ªï¼‰+ Vercel Analytics
- **æ—¥å¿—**ï¼šVercel Logs / Datadog

---

## ğŸ” å®‰å…¨æ¶æ„

### API å¯†é’¥ç®¡ç†
```typescript
// ç¯å¢ƒå˜é‡åŠ è½½
const config = {
  openai: process.env.OPENAI_API_KEY,
  anthropic: process.env.ANTHROPIC_API_KEY,
  // å¯†é’¥ä»…åœ¨æœåŠ¡ç«¯ä½¿ç”¨ï¼Œç»ä¸æš´éœ²ç»™å‰ç«¯
};
```

### é’±åŒ…ç§é’¥å®‰å…¨
- ä½¿ç”¨åŠ å¯†çš„ç¯å¢ƒå˜é‡
- ç»ä¸åœ¨ä»£ç ä¸­ç¡¬ç¼–ç 
- ä½¿ç”¨ Vercel Secrets ç®¡ç†

### API é€Ÿç‡é™åˆ¶
```typescript
// é˜²æ­¢æ»¥ç”¨
const rateLimit = {
  '/api/leaderboard': {
    windowMs: 60000,  // 1åˆ†é’Ÿ
    max: 60           // æœ€å¤š60æ¬¡è¯·æ±‚
  }
};
```

---

## å¯¼èˆª

- [â† è¿”å›ä¸»ç›®å½•](../README.md)
- [â† ä¸Šä¸€ç« ï¼šé¡¹ç›®æ¦‚è¿°](01-é¡¹ç›®æ¦‚è¿°.md)
- [ä¸‹ä¸€ç« ï¼šé¦–é¡µè¯¦è§£ â†’](03-é¦–é¡µè¯¦è§£.md)
